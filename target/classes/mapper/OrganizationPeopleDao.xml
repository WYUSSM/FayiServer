<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sig.fayi.dao.OrganizationPeopleDao">
    <insert id="signUpOrganization" parameterType="com.sig.fayi.entity.OrganizationPeople">
        INSERT INTO organizationpeople_tab(organizationId,userId,apply_time,flag)
        VALUES(#{organizationPeople.organizationId},#{organizationPeople.userId},#{organizationPeople.apply_time},#{organizationPeople.flag});
    </insert>

    <delete id="quitOrganization">
        DELETE FROM organizationpeople_tab
        WHERE id=#{id};
    </delete>

    <select id="findAllUserByOrganizationId" resultType="com.sig.fayi.entity.User">
        SELECT user_tab.*
        FROM organizationpeople_tab,user_tab
        WHERE organizationpeople_tab.organizationId=#{organizationId}
        AND organizationpeople_tab.userId=user_tab.id;
    </select>
</mapper>